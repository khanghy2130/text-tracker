<!DOCTYPE html>
<html lang="en">
  <head>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather&family=Playfair+Display&family=Poppins&display=swap" rel="stylesheet">
    <link rel="icon" 
    type="image/png" 
    href="https://cdn3.iconfinder.com/data/icons/letters-and-numbers-1/32/letter_T_red-512.png">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js"></script>
    
    <link rel="stylesheet" type="text/css" href="./style.css">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Text Tracker</title>

  </head>
  <body>

    <div id="main-canvas-wrapper">
      <div id="canvas-program-container"></div>

      <p id="wait-message" hidden>Generating video, please wait ...</p>

      <div id="recording-control">
        <p>Recording...</p>
        <button id="cancel-recording-button">Cancel</button>
      </div>
    </div>


    <div id="main-options-wrapper">

      <div id="main-buttons-container">
        <button id="btn-preview">Preview</button>
        <button id="btn-generate">Generate Video</button>
      </div>
  
      <div id="options-container">
  
        <div id="text-area-container" title="main text input">
          <textarea id="text-area"></textarea>
        </div>
  
        <div id="author-container">
          <input type="text" placeholder="Name" id="author">
          <button id="audio-button" onclick="setAudioModalVisibility(true)"></button>
        </div>
  
        <div>
          <label for="text-size">Text size</label>
          <input id="text-size-slider" name="text-size" 
            type="range" min=4 max=8 value=6 step=0.1 />
        </div>
  
        <div>
          <label for="vertical">Vertical spacing</label>
          <input id="vertical-slider" name="vertical" 
            type="range" min=5 max=20 value=7 step=0.1 />
        </div>
  
        <div>
          <label for="textspeed">Text speed</label>
          <input id="text-speed-slider" name="textspeed" 
            type="range" min=0 max=2 value=1.5 step=0.1 />
        </div>
  
        <div>
          <label for="scrollspeed">Scroll speed</label>
          <input id="scroll-speed-slider" name="scrollspeed" 
            type="range" min=0 max=20 value=15 step=1 />
        </div>
  
        <div>
          <label for="bg-color">Background color</label>
          <input type="color" id="bg-color-picker" name="bg-color"
            value="#fefefe">
        </div>
  
        <div>
          <label for="text-color">Text color</label>
          <input type="color" id="text-color-picker" name="text-color"
          value="#111111">
        </div>
  
        <div>
          <label for="ff">Font family</label>
          <select name="ff" id="ff-dropdown">
              <option value="Merriweather">Merriweather</option>
              <option value="Poppins" selected>Poppins</option>
              <option value="Playfair Display">Playfair Display</option>
          </select>
        </div>
  
        <div>
          <label for="ratio">Screen ratio</label>
          <select name="ratio" id="ratio-dropdown">
              <option value=0>1:1</option>
              <option value=1>16:9</option>
              <option value=2>9:16</option>
          </select>
        </div>
  
      </div>

    </div>
    

    <div id="audio-modal">
      <div>
        <h6>Warning: Any changes to the main text input, scroll speed slider, or text speed slider will REMOVE the recorded audio (because it will change the duration of the animation).</h6>
        <p>When you record an audio, the recording will start after a countdown and end when the animation ends. While recording, you can cancel and the previous audio won't be replaced. Once you have recorded, previewing the animation will also play the audio.</p>
        <button id="record-audio-button">Record new audio</button>
        <button id="remove-audio-button">Remove existing audio</button>
        <button onclick="setAudioModalVisibility(false)">Close</button>
      </div>
    </div>

    <script src="sketch.js"></script>
    <script src="worker/WebAudioRecorder.min.js"></script>
    <script src="worker/app.js"></script>
  </body>
</html>
